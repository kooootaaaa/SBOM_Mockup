@page "/machine/{MachineId}/parts"
@using Microsoft.AspNetCore.Components

<PageTitle>個体部品一覧</PageTitle>

<h1>個体部品一覧 <span class="text-muted fs-5">(@MachineId)</span></h1>

<div class="card mb-3">
    <div class="card-header bg-primary text-white">
        <h5 class="mb-0">機械情報</h5>
    </div>
    <div class="card-body">
        <div class="row">
            <div class="col-md-3">
                <div class="mb-2">
                    <label class="text-muted small">製造番号</label>
                    <div class="fw-bold">@MachineId</div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="mb-2">
                    <label class="text-muted small">型式</label>
                    <div class="fw-bold">WTD-T16I</div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="mb-2">
                    <label class="text-muted small">機種名</label>
                    <div class="fw-bold">トルネードT16αR</div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="mb-2">
                    <label class="text-muted small">完成日</label>
                    <div class="fw-bold">2024-09-17</div>
                </div>
            </div>
        </div>
        <div class="row mt-2">
            <div class="col-md-3">
                <div class="mb-2">
                    <label class="text-muted small">現在地</label>
                    <div class="fw-bold">本社倉庫</div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="mb-2">
                    <label class="text-muted small">機械状態</label>
                    <div class="fw-bold">完成</div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="mb-2">
                    <label class="text-muted small">管理区分</label>
                    <div class="fw-bold">新品</div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="mb-2">
                    <label class="text-muted small">案件番号</label>
                    <div class="fw-bold">A-2024-0892</div>
                </div>
            </div>
        </div>
        <div class="row mt-2">
            <div class="col-md-3">
                <div class="mb-2">
                    <label class="text-muted small">ロット番号</label>
                    <div class="fw-bold">L2024-09</div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="mb-2">
    <label><input type="radio" name="viewMode" value="normal" checked /> 通常</label>
    <label class="ms-3"><input type="radio" name="viewMode" value="hierarchy" /> 階層表示</label>
    <label class="ms-3"><input type="radio" name="viewMode" value="expand" /> 部品展開</label>
</div>

<table class="table table-bordered">
    <thead>
        <tr>
            <th>部品番号</th>
            <th>部品名</th>
            <th>数量</th>
            <th>備考</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>P-001</td><td>モーター</td><td>2</td><td>主要部品</td>
        </tr>
        <tr>
            <td>P-002</td><td>ベルト</td><td>1</td><td>消耗品</td>
        </tr>
        <tr>
            <td>P-003</td><td>センサー</td><td>3</td><td></td>
        </tr>
    </tbody>
</table>

<div class="mt-3">
    <button class="btn btn-primary me-2" @onclick="@(() => NavTo($"/machine/{MachineId}/partsfetch"))">部品情報取得画面を開く</button>
    <button class="btn btn-warning me-2" @onclick="@(() => NavTo($"/machine/{MachineId}/partschange"))">部品変更画面を開く</button>
    <button class="btn btn-success me-2" @onclick="@(() => NavTo($"/machine/{MachineId}/setedit"))">セット品登録編集画面を開く</button>
    <a class="btn btn-secondary" href="/machine/@MachineId">閉じる</a>
</div>

@code {
    [Parameter] public string? MachineId { get; set; }
    [Inject] NavigationManager Nav { get; set; } = default!;
    void NavTo(string url) => Nav.NavigateTo(url);
} 